{% extends 'mainapp/base.html' %}

{% block content %}
	<section class="flex justify-between items-center pt-20 mx-2">
		<h1 class="text-6xl font-bold text-white">
			Synthèse
		</h1>
		<button id="home-btn" class="bg-red-500 hover:bg-red-700 text-white text-xl font-bold py-3 px-7 rounded-full shadow-md">
			Home
		</button>
	</section>

	<!-- cards section -->
	<section class="sm:flex sm:flex-col md:flex-col lg:flex-row xl:flex-row justify-center mt-4">
		<!-- card patient -->
		<article class="bg-white border border-gray-300 rounded shadow-md p-4 lg:w-1/4 mx-2 mt-4 h-auto">
			<h1 class="text-2xl font-bold">
				Mon patient
			</h1>
			<!-- Red line -->
			<div class="mt-1 mb-2 border-b-4 border-red-500 rounded w-3/4"></div>
			{% if previous_answers %}
				{% for answer in previous_answers %}
					<li class="list-inside text-red-500">
						<span class="text-black">
							{{ answer }}
						</span>	
					</li>
				{% endfor %}
			{% endif %}
		</article>

		<!-- card annual -->
		<article class="bg-white border border-gray-300 rounded shadow-md p-4 lg:w-3/4 mx-2 mt-4 h-auto">
			<h1 class="text-2xl font-bold">
				Examens annuels
			</h1>
			<!-- Blue line -->
			<div class="mt-1 mb-2 border-b-4 border-blue-200 rounded w-3/4"></div>
			<!-- screening tests -->
			{% for screening_test in annual_tests %}
				<p class="font-normal py-2">
					{{ screening_test.title }}
					<!-- icon info i -->
					{% if screening_test.info %}
						<span class="info-icon cursor-pointer font-bold text-red-500" data-modal-toggle="modal-{{ screening_test.id }}" title="Cliquez pour plus d'informations">
							&#9432;
						</span>
					{% endif %}
				</p>
				<hr>
				<!-- Modal -->
				<div id="modal-{{ screening_test.id }}" class="modal fixed top-0 left-0 right-0 bottom-0 flex items-center justify-center hidden">
					<div class="modal-content bg-white p-8 mx-8 rounded-t rounded-r shadow-lg max-w-2xl overflow-y-auto border-red-200 border-b-8 border-l-8 border-t-2 border-r-2">
						<!-- card informations -->
						<h2 class="text-xl font-semibold">
							{{ screening_test.title }} :
						</h2>
						<!-- Blue line -->
						<div class="mt-2 mb-2 border-b-4 border-blue-200 rounded w-1/3"></div>
						<p class="font-normal mb-1 text-justify">
							{{ screening_test.info }}
						</p>
						{% if screening_test.sources %}
							<!-- Sources -->
							<h4 class="text-base font-bold mb-2">
								Sources
							</h4>
							<!-- Red line -->
							<div class="mt-1 mb-2 border-b-4 border-red-500 rounded w-1/4"></div>
							<!-- Sources list -->
							<ul>
								{% for source_link in screening_test.sources %}
								<li class="font-light hover:text-blue-500">
									<a href="{{ source_link.link }}" target="_blank">
										{{ source_link.text }}
									</a>
								</li>
								{% endfor %}
							</ul>
						{% endif %}
						<!-- Close Button -->
						<button class="modal-close mt-4 bg-red-500 hover:bg-red-800 text-white font-bold py-2 px-4 rounded-lg">
							Fermer
						</button>
					</div>
				</div>
			{% endfor %}
		</article>
	</section>

	<!-- cards section 2 -->
	<section class="sm:flex sm:flex-col md:flex-col lg:flex-row xl:flex-row justify-center">
		<!-- card oriented -->
		<article class="bg-white border border-gray-300 rounded shadow-md p-4 lg:w-1/2 mx-2 mt-4">
			<h1 class="text-2xl font-bold">
				Bilan orienté
			</h1>
			<!-- Blue line -->
			<div class="mt-1 mb-2 border-b-4 border-blue-200 rounded w-3/4"></div>
			<!-- screening tests -->
			{% if conditional_specialist_tests %}
				{% for screening_test in conditional_specialist_tests %}
				<p class="font-normal py-2">
					{{ screening_test.title }}
					<!-- icon info i -->
					{% if screening_test.info %}
						<span class="info-icon cursor-pointer font-bold text-red-500" data-modal-toggle="modal-{{ screening_test.id }}" title="Cliquez pour plus d'informations">
							&#9432;
						</span>
					{% endif %}
				</p>
				<hr>
				<!-- Modal -->
				<div id="modal-{{ screening_test.id }}" class="modal fixed top-0 left-0 right-0 bottom-0 flex items-center justify-center hidden">
					<div class="modal-content bg-white p-8 mx-8 rounded-t rounded-r shadow-lg max-w-2xl overflow-y-auto border-red-200 border-b-8 border-l-8 border-t-2 border-r-2">
						<!-- Card informations -->
						<h2 class="text-xl font-semibold">
							{{ screening_test.title }} :
						</h2>
						<!-- Blue line -->
						<div class="mt-2 mb-2 border-b-4 border-blue-200 rounded w-1/3"></div>
						<p class="font-normal mb-1 text-justify">
							{{ screening_test.info }}
						</p>
						{% if screening_test.sources %}
							<!-- Sources -->
							<h4 class="text-base font-bold mb-2">
								Sources
							</h4>
							<!-- Red line -->
							<div class="mt-1 mb-2 border-b-4 border-red-500 rounded w-1/4"></div>
							<!-- Sources list -->
							<ul>
								{% for source_link in screening_test.sources %}
								<li class="font-light hover:text-blue-500">
									<a href="{{ source_link.link }}" target="_blank">
										{{ source_link.text }}
									</a>
								</li>
								{% endfor %}
							</ul>
						{% endif %}
						<!-- Close Button -->
						<button class="modal-close mt-4 bg-red-500 hover:bg-red-800 text-white font-bold py-2 px-4 rounded-lg">
							Fermer
						</button>
					</div>
				</div>
				{% endfor %}
			{% endif %}
		</article>

		<!-- card important -->
		<article class="bg-white border border-gray-300 rounded shadow-md p-4 lg:w-1/2 mx-2 mt-4">
			<h1 class="text-2xl font-bold">
				Rappels importants
			</h1>
			<!-- Blue line -->
			<div class="mt-1 mb-2 border-b-4 border-blue-200 rounded w-3/4"></div>
			<!-- screening tests -->
			{% for screening_test in reminders %}
				<p class="font-normal py-2">
					{{ screening_test.title }}
					<!-- icon info i -->
					{% if screening_test.info %}
						<span class="info-icon cursor-pointer font-bold text-red-500" data-modal-toggle="modal-{{ screening_test.id }}" title="Cliquez pour plus d'informations">
							&#9432;
						</span>
					{% endif %}
				</p>
				<hr>
				<!-- Modal -->
				<div id="modal-{{ screening_test.id }}" class="modal fixed top-0 left-0 right-0 bottom-0 flex items-center justify-center hidden">
					<div class="modal-content bg-white p-8 mx-8 rounded-t rounded-r shadow-lg max-w-2xl overflow-y-auto border-red-200 border-b-8 border-l-8 border-t-2 border-r-2">
						<!-- Card informations -->
						<h2 class="text-xl font-semibold">
							{{ screening_test.title }} :
						</h2>
						<!-- Blue line -->
						<div class="mt-2 mb-2 border-b-4 border-blue-200 rounded w-1/3"></div>
						<p class="font-normal mb-1 text-justify">
							{{ screening_test.info }}
						</p>
						{% if screening_test.sources %}
							<!-- Sources -->
							<h4 class="text-base font-bold mb-2">
								Sources
							</h4>
							<!-- Red line -->
							<div class="mt-1 mb-2 border-b-4 border-red-500 rounded w-1/4"></div>
							<!-- Sources list -->
							<ul>
								{% for source_link in screening_test.sources %}
									<li class="font-light hover:text-blue-500">
										<a href="{{ source_link.link }}" target="_blank">
											{{ source_link.text }}
										</a>
									</li>
								{% endfor %}
							</ul>
						{% endif %}
						<!-- Close Button -->
						<button class="modal-close mt-4 bg-red-500 hover:bg-red-800 text-white font-bold py-2 px-4 rounded-lg">
							Fermer
						</button>
					</div>
				</div>
			{% endfor %}
		</article>
	</section>

	<!-- Button Section -->
	<div class="flex justify-end my-6 mx-2">
		<!-- PDF Button -->
		<a href="/pdf/">
			<button class="bg-red-500 hover:bg-red-700 text-white text-xl font-bold py-3 px-7 rounded-full shadow-md mr-4">
				Export PDF
			</button>
		<!-- Print Button -->
		<button onclick="javascript:window.print()" class="bg-red-500 hover:bg-red-700 text-white text-xl font-bold py-3 px-7 rounded-full shadow-md mr-4">
			Print
		</button>
		<!-- Email Button -->
		<button class="bg-red-500 hover:bg-red-700 text-white text-xl font-bold py-3 px-7 rounded-full shadow-md mr-4">
			Send by Email
		</button>
		<!-- Avis Button -->
		<a href="/comment/">
			<button class="bg-red-500 hover:bg-red-700 text-white text-xl font-bold py-3 px-7 rounded-full shadow-md">
				Donnez-nous votre avis
			</button>
		</a>
	</div>

{% endblock content %}
